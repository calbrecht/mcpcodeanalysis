version: "1.0.0"
title: "Fix QA errors in file"
description: "Fix QA toolchain errors in specified file"
instructions: |
  do NOT change pyproject.toml
  do NOT weaken qa tools

  Execute `just unveil-next-error {{ file }}`
  Then atomic surgery fix error and repeat.

prompt: |
  do NOT change pyproject.toml
  do NOT weaken qa tools

  Execute `just unveil-next-error {{ file }}`
  Then atomic surgery fix error and repeat.

parameters:
  - key: file
    input_type: string
    requirement: required
    description: "Absolute path to python file to fix the errors in."

extensions:
  - type: builtin
    name: developer
    display_name: Developer
    timeout: 300
    bundled: true
    available_tools: []

settings:
  goose_provider: openai
  goose_model: gpt-5
  temperature: 0.0

response:
  json_schema:
    type: object
    properties:
      result:
        type: string
        description: "The main result of the task"
      details:
        type: array
        items:
          type: string
        description: "Additional details of steps taken"
    required:
      - result
      - details
